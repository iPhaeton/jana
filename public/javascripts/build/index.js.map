{"version":3,"sources":["webpack:///webpack/bootstrap fb6499bef16af9a0d0dc","webpack:///./public/javascripts/indexClient.js","webpack:///./public/javascripts/headMenu.js","webpack:///./public/javascripts/modals.js","webpack:///./public/javascripts/ajaxClient.js","webpack:///./public/javascripts/axillaries.js"],"names":["headMenuListener","$","document","ready","on","event","preventDefault","target","showAuthWindow","attr","err","alert","message","window","location","href","documentElement","keyCode","remove","detach","prototype","close","id","authWindow","render","Details","parent","data","ModalWindow","call","elem","css","background","padding","Object","create","constructor","self","html","content","createContent","mode","saveButton","float","addButton","cancelButton","append","submit","bind","editButtonClick","_render","find","panel","table","items","specs","i","length","addField","key","val","prepend","removeField","blur","container","value","children","num","eq","form","_id","serializeArray","getData","dataUrl","Dialog","db","createData","callback","fakeParent","formData","url","storedData","sideMenuActive","AuthWindow","type","border","borderRadius","minWidth","button","margin","reload","zIndex","focusExecuted","preventScrolling","closeButton","width","height","closeImg","hover","cursor","clearFix","insertAfter","position","visibility","body","off","setTimeout","win","top","scrollTop","left","scrollLeft","prevent","doc","overflow","makeDBSearchRequest","reqStr","ajax","dataType","done","json","fail","xhr","status","makeDBSaveRequest","statusCode","jqXHR","JSON","parse","responseText","makeDBDelRequest","makeFileSaveRequest","file","headers","name","processData","contentType","makeFileDeleteRequest","makeListRequest","makeAuthorizationRequest","serialize","findTarget","criteria","tag","split","hasClass","gatherItemsInOrder","obj","item","push"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap fb6499bef16af9a0d0dc\n **/","import headMenuListener from \"./headMenu\";\n\nheadMenuListener();\n\n\n/** WEBPACK FOOTER **\n ** ./public/javascripts/indexClient.js\n **/","\"use strict\";\r\n\r\nimport {ModalWindow, AuthWindow} from \"./modals\";\r\nimport {makeAuthorizationRequest} from \"./ajaxClient\";\r\nimport {findTarget} from \"./axillaries\";\r\n\r\nexport default function headMenuListener () {\r\n    \r\n    $(document).ready(function () {\r\n        $(\"#signin, #signup\").on(\"click\", function (event) {\r\n            event.preventDefault();\r\n\r\n            var target = findTarget($(event.target), \"signin signup\");\r\n            if (!target) return;\r\n            \r\n            showAuthWindow(target.attr(\"id\"));\r\n        });\r\n        \r\n        $(\"#signout\").on(\"click\", function (event) {\r\n            event.preventDefault();\r\n\r\n            var target = findTarget($(event.target), \"signout\");\r\n            if (!target) return;\r\n\r\n            makeAuthorizationRequest(\"/signout\", null, function (err) {\r\n                if (err) alert (err.message);\r\n                else window.location.href = \"/\";\r\n            });\r\n        });\r\n\r\n        //Close all popups and modals, if there are any-------------------------------------------------------------------------------------------------------------------------------\r\n        $(document.documentElement).on(\"click keydown\", function (event) {\r\n            if (event.keyCode && event.keyCode !== 27) return;\r\n\r\n            if (findTarget($(event.target), \"mod\")) return;\r\n\r\n            //close image preview and popups\r\n            if(!findTarget($(event.target), \"popup-button\") || event.keyCode === 27) {\r\n                $(\"#image-preview\").remove();\r\n                $(\".popup-menu\").detach();\r\n            };\r\n            \r\n            //if click is not on a details button, close all details\r\n            if(!findTarget($(event.target), \"details-button edit-button rm-button signin signup\") || event.keyCode === 27) {\r\n                ModalWindow.prototype.close();\r\n            };\r\n        });\r\n    });\r\n    \r\n    function showAuthWindow(id) {\r\n        var authWindow = new AuthWindow(id);\r\n        authWindow.render();\r\n    };\r\n};\n\n\n/** WEBPACK FOOTER **\n ** ./public/javascripts/headMenu.js\n **/","\"use strict\";\r\n\r\nimport {makeDBSaveRequest, makeAuthorizationRequest} from \"./ajaxClient\";\r\nimport {findTarget, gatherItemsInOrder} from \"./axillaries\";\r\n\r\n//Details---------------------------------------------------------------------------------------------------------------\r\nfunction Details (parent) {\r\n    if (!parent.data) return;\r\n    \r\n    ModalWindow.call(this, false);\r\n\r\n    this.parent = parent;\r\n\r\n    this.elem.attr(\"id\", \"details\");\r\n    this.elem.css({\r\n        background: \"#079\",\r\n        padding: \"0px\"\r\n    });\r\n};\r\n\r\nDetails.prototype = Object.create(ModalWindow.prototype);\r\nDetails.prototype.constructor = Details;\r\n\r\nDetails.prototype.render = function () {\r\n    var self = this;\r\n\r\n    if (!this.elem.html()) {\r\n        this.content = $(\"<form></form>\");\r\n        \r\n        this.createContent();\r\n        \r\n        if (mode === \"edit\") {\r\n            var saveButton = $(\"<button type='submit' class='btn btn-default' id='save-button'>Сохранить</button>\");\r\n            saveButton.css({\r\n                float: \"right\"\r\n            });\r\n\r\n            var addButton = $(\"<button type='button' class='btn btn-default' id='add-button'>Добавить</button>\");\r\n\r\n            var cancelButton = $(\"<button type='button' class='btn btn-default' id='cancel-button'>Отмена</button>\");\r\n            cancelButton.css({\r\n                float: \"right\"\r\n            });\r\n\r\n            this.content.append(cancelButton);\r\n            this.content.append(addButton);\r\n            this.content.append(saveButton);\r\n        };\r\n    };\r\n    \r\n    this.content.on(\"submit\", this.submit.bind(this));\r\n    this.content.on(\"click\", \".btn\", this.editButtonClick.bind(this));\r\n\r\n    this._render(this.content);\r\n};\r\n\r\nDetails.prototype.createContent = function () {\r\n    this.elem.find(\"#details__content\").remove();\r\n    \r\n    var panel = $(\"<div class='panel panel-default' id='details__content'></div>\");\r\n    this.table = $(\"<table class='table'><tbody></tbody></table>\");\r\n\r\n    //for some reason properties are read in the opposite order\r\n    var items = gatherItemsInOrder(this.parent.data.specs);\r\n\r\n    for (var i = items.length - 1; i >= 0; i--) {\r\n        this.addField(this.table.find(\"tbody\"), {key: items[i], val: this.parent.data.specs[items[i]]});\r\n    };\r\n\r\n    panel.append(this.table);\r\n    this.content.prepend(panel);\r\n};\r\n\r\nDetails.prototype.editButtonClick = function (event) {\r\n    var target = $(event.target);\r\n    target = findTarget(target, \"btn\");\r\n    if (!target) return;\r\n\r\n    switch (target.attr(\"id\")) {\r\n        case \"add-button\":\r\n            this.addField(this.table.find(\"tbody\"));\r\n            break;\r\n        case \"rm-button\":\r\n            this.removeField(this.table.find(\"tbody\"), target.attr(\"num\"));\r\n            break;\r\n        case \"cancel-button\":\r\n            this.createContent();\r\n            this.close();\r\n            break;\r\n    };\r\n    \r\n    target.blur();\r\n};\r\n\r\nDetails.prototype.addField = function (container, value) {\r\n    if (mode === \"edit\") {\r\n        container.append(\r\n            \"<tr>\\\r\n                <td><input name='key' value='\" + (value ? value.key : \"\") + \"'></td>\\\r\n                <td><input name='val' value='\" + (value ? value.val : \"\") +\"'></td>\\\r\n                <td><input type='button' class='btn' id='rm-button' num='\" + container.children().length + \"' value='Удалить'></td>\\\r\n            </tr>\");\r\n    } else {\r\n        container.append(\r\n            \"<tr>\\\r\n                <td>\" + (value ? value.key : \"\") + \"</td>\\\r\n                <td>\" + (value ? value.val : \"\") + \"</td>\\\r\n            </tr>\");\r\n    };\r\n};\r\n\r\nDetails.prototype.removeField = function (container, num) {\r\n    container.children().eq(+num).remove();\r\n    \r\n    for (var i = +num; i < container.children().length; i++) {\r\n        container.children().eq(i).find(\"input\").attr(\"num\", i);\r\n    };\r\n};\r\n\r\nDetails.prototype.submit = function (event) {\r\n    var form = $(event.target);\r\n\r\n    var self = this;\r\n    makeDBSaveRequest(\"/dbsave?db=Commodity&id=\" + this.parent.data._id, form.serializeArray(), function (err) {\r\n        if (err) alert (err.message);\r\n        getData(self.parent.dataUrl, createContent);\r\n    });\r\n\r\n    this.close();\r\n\r\n    event.preventDefault();\r\n};\r\n\r\n//Dialog-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n//createData - function to create data, if data to be submitted doesn't comply with data in form\r\n//callback - to be called after a data is saved to a database\r\nfunction Dialog (items, db, createData, callback) {\r\n    var fakeParent = {\r\n        data: {\r\n            _id: null,\r\n            specs: items\r\n        }\r\n    };\r\n\r\n    Details.call(this, fakeParent);\r\n\r\n    this.db = db;\r\n    this.createData = createData;\r\n    this.callback = callback;\r\n};\r\n\r\nDialog.prototype = Object.create(Details.prototype);\r\nDialog.prototype.constructor = Dialog;\r\n\r\nDialog.prototype.submit = function (event) {\r\n    var self = this;\r\n    var form = $(event.target);\r\n\r\n    if (this.createData) var formData = this.createData(form);\r\n    else var formData = form.serializeArray();\r\n\r\n    if (!formData.url && storedData) formData.url = storedData.url;\r\n    makeDBSaveRequest(\"/dbsave?db=\" + this.db + \"&id=\" + this.parent.data._id, formData, function (err) {\r\n        if (err) {\r\n            if (self.callback) self.callback(err);\r\n            else alert (err.message);\r\n            return;\r\n        }\r\n\r\n        if (formData) {\r\n            getData(formData.url, function () {\r\n                createContent();\r\n                if (self.callback) self.callback(null, formData);\r\n\r\n                if (self.db === \"Category\") {\r\n                    sideMenuActive($(\".side-menu a[href='\" + formData.url + \"']\"));\r\n                };\r\n            });\r\n        };\r\n    });\r\n\r\n    this.close();\r\n\r\n    event.preventDefault();\r\n};\r\n\r\n//Authentification Window----------------------------------------------------------------------------------------------------------------------------------------------------\r\nfunction AuthWindow (type) {\r\n    ModalWindow.call(this, true);\r\n    \r\n    this.elem.attr(\"id\", \"authentification\");\r\n    this.elem.css({\r\n        background: \"#fff\",\r\n        padding: \"5px\",\r\n        border: \"1px solid #ccc\",\r\n        borderRadius: \"5px\"\r\n    });\r\n\r\n    this.type = type;\r\n};\r\n\r\nAuthWindow.prototype = Object.create(ModalWindow.prototype);\r\nAuthWindow.prototype.constructor = AuthWindow;\r\n\r\nAuthWindow.prototype.render = function () { \r\n    this.form = $(\r\n    \"<form>\\\r\n        <div class='form-group'>\\\r\n            <label for='username' class='sr-only'>Имя пользователя</label>\\\r\n                <input type='text' class='form-control' name='username' id='username' placeholder='Имя пользователя'>\\\r\n        </div>\\\r\n        <div class='form-group'>\\\r\n            <label for='password' class='sr-only'>Пароль</label>\\\r\n                <input type='password' class='form-control' name='password' id='password' placeholder='Пароль' autocomplete='off'>\\\r\n        </div>\\\r\n    </form>\");\r\n    \r\n    this.form.css({\r\n        minWidth: 300\r\n    });\r\n\r\n    var button = $(\"<button type='submit' class='btn btn-primary' id='auth-button'>\" + ((this.type === \"signin\") ? \"Войти\" : (this.type === \"signup\") ? \"Регистрация\" : \"\") + \"</button>\");\r\n    button.css({\r\n        margin: \"0 10px 10px 10px\",\r\n        float: \"right\"\r\n    });\r\n    this.form.append(button);\r\n\r\n    this.form.on(\"submit\", this.submit.bind(this));\r\n    \r\n    this._render(this.form);\r\n};\r\n\r\nAuthWindow.prototype.submit = function (event) {\r\n    makeAuthorizationRequest(\"/\" + this.type, this.form, function (err) {\r\n        if (err) alert (err.message);\r\n        else {\r\n            ModalWindow.prototype.close();\r\n            location.reload();\r\n        };\r\n    });\r\n\r\n    event.preventDefault();\r\n};\r\n\r\n//Modal window---------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n//romove shows if the window should be removed whe deleted or jast detach\r\nfunction ModalWindow () {\r\n    this.elem = $(\"<div class='mod'></div>\");\r\n    this.elem.css({\r\n        zIndex: 3\r\n    });\r\n    \r\n    this.focusExecuted = false;\r\n};\r\n\r\nModalWindow.prototype._render = function (content) {\r\n    this.close();\r\n    \r\n    this.preventScrolling(true);\r\n\r\n    if (!this.elem.html()) {\r\n        if (content) this.elem.append(content);\r\n\r\n        this.closeButton = $(\"<div></div>\");\r\n        this.closeButton.css({\r\n            width: \"20px\",\r\n            height: \"20px\",\r\n            float: \"right\"\r\n        });\r\n        var closeImg = $(\"<img src='/images/gtk-close.png'>\");\r\n        closeImg.css({\r\n            width: \"100%\",\r\n            height: \"100%\"\r\n        });\r\n        this.closeButton.append(closeImg);\r\n        this.closeButton.hover(function () {\r\n            $(this).css({\r\n                cursor: \"pointer\"\r\n            })\r\n        });\r\n\r\n        var clearFix = ($(\"<div class='clearfix'></div>\"));\r\n\r\n        this.elem.prepend(this.closeButton);\r\n        clearFix.insertAfter(this.closeButton);\r\n\r\n        this.elem.css({\r\n            position: \"fixed\"\r\n        });\r\n    };\r\n\r\n    this.elem.css({\r\n        visibility: \"hidden\" //To prevent scampering of a modal across the window, visibility is restored after positioning\r\n    });\r\n    $(document.body).append(this.elem);\r\n\r\n    this.closeButton.on(\"click\", this.close.bind(this));\r\n\r\n    $(window).on(\"resize\", this.position.bind(this));\r\n    \r\n    //Crazy firefox' feature that js isn't executed again, when a page is returned to, but window.onresize is lost, when a page is left\r\n    //So I listen to document.onfocus and add window.onresize again\r\n    $(document).on(\"focus\", function () {\r\n        if (this.focusExecuted) return;\r\n\r\n        this.focusExecuted = true;\r\n        \r\n        $(window).off(\"resize\", this.position.bind(this)); //just in case\r\n        $(window).on(\"resize\", this.position.bind(this)); //when comming back from anothr page\r\n    }.bind(this));\r\n\r\n    //if we go away from the page by some link, when we come back we will need to add window.onresize again\r\n    $(document).on(\"click\", function (event) {\r\n        if ($(event.target).attr(\"href\")) this.focusExecuted = false;\r\n        $(window).off(\"resize\", this.position.bind(this)); //just in case\r\n        $(window).on(\"resize\", this.position.bind(this)); //when an element with href is pressed, but page hasn't been reloaded\r\n    }.bind(this));\r\n\r\n    this.position();\r\n};\r\n\r\n//set position when the window is resized\r\nModalWindow.prototype.position = function () {\r\n    var self = this;\r\n\r\n    setTimeout(function () { //To prevent multiple executions\r\n        var win = $(window);\r\n\r\n        if (self.elem.width() > win.width()) {\r\n            self.elem.css({\r\n                position: \"absolute\",\r\n                top: win.scrollTop() + 30 + \"px\",\r\n                left: \"0px\"\r\n            });\r\n        } else if (self.elem.height()+30 > win.height()) {\r\n            self.elem.css({\r\n                position: \"absolute\",\r\n                top: win.scrollTop() + \"px\",\r\n                left: win.scrollLeft() + win.width()/2 - self.elem.width()/2 + \"px\",\r\n            });\r\n        } else {\r\n            self.elem.css({\r\n                position: \"fixed\",\r\n                top: \"30px\",\r\n                left: win.scrollLeft() + win.width()/2 - self.elem.width()/2 + \"px\",\r\n            });\r\n        };\r\n\r\n        self.elem.css({\r\n            visibility: \"visible\"\r\n        });\r\n    }, 0);\r\n};\r\n\r\nModalWindow.prototype.close = function () {\r\n    $(\".mod\").remove();\r\n    \r\n    this.preventScrolling(false);\r\n};\r\n\r\nModalWindow.prototype.preventScrolling = function (prevent) {\r\n    var doc = $(document);\r\n    \r\n    $(document.body).css({\r\n        overflow: prevent ? \"hidden\" : \"visible\"\r\n    });\r\n    \r\n    if (prevent) {\r\n        var background = $(\"<div class='dim-background'></div>\");\r\n        background.css({\r\n            position: \"absolute\",\r\n            top: 0,\r\n            left: 0,\r\n            width: \"100%\",\r\n            height: doc.height(),\r\n            background: \"rgba(0,0,0,.5)\",\r\n            zIndex: 2\r\n        });\r\n        $(document.body).append(background);\r\n    } else {\r\n        $(\".dim-background\").remove();\r\n    }\r\n};\r\n\r\nexport {Details, Dialog, AuthWindow, ModalWindow};\n\n\n/** WEBPACK FOOTER **\n ** ./public/javascripts/modals.js\n **/","\"use strict\";\r\n\r\n//DB------------------------------------------------------------------------------------------------------------------------------------------------------------\r\nfunction makeDBSearchRequest (reqStr, callback) {\r\n    $.ajax({\r\n        url: reqStr,\r\n        type: \"GET\",\r\n        dataType: \"json\"\r\n    })\r\n    .done(function (json) {\r\n        callback(null, json);\r\n    })\r\n    .fail(function (xhr, status, err) {\r\n        callback(err);\r\n    });\r\n};\r\n\r\nfunction makeDBSaveRequest (reqStr, data, callback) {\r\n    $.ajax({\r\n        url: reqStr,\r\n        type: \"POST\",\r\n        data: data,\r\n        statusCode:{\r\n            200: function () {\r\n                callback(null)\r\n            },\r\n            403: function (jqXHR) {\r\n                callback(JSON.parse(jqXHR.responseText));\r\n            }\r\n        }\r\n    });\r\n};\r\n\r\nfunction makeDBDelRequest (reqStr, callback) {\r\n    $.ajax({\r\n        url: reqStr,\r\n        type: \"POST\",\r\n        statusCode:{\r\n            200: function () {\r\n                callback(null)\r\n            },\r\n            404: function (jqXHR) {\r\n                callback(JSON.parse(jqXHR.responseText));\r\n            }\r\n        }\r\n    });\r\n};\r\n\r\n//Files--------------------------------------------------------------------------------------------------------------------------------------------------------\r\nfunction makeFileSaveRequest(reqStr, file, callback) {\r\n    $.ajax({\r\n        url: reqStr,\r\n        type: \"POST\",\r\n        data: file,\r\n        headers: {\r\n            \"x-file-name\": file.name || file //file may be a file or a string with a file name\r\n        },\r\n        processData: false,\r\n        contentType: false,\r\n        statusCode:{\r\n            200: function () {\r\n                callback(null)\r\n            },\r\n            403: function (jqXHR) {\r\n                callback(JSON.parse(jqXHR.responseText));\r\n            }\r\n        }\r\n    });\r\n};\r\n\r\nfunction makeFileDeleteRequest(reqStr, callback) {\r\n    $.ajax({\r\n        url: reqStr,\r\n        type: \"GET\"\r\n    })\r\n    .done(function () {\r\n        callback();\r\n    })\r\n    .fail(function (xhr, status, err) {\r\n        callback(err);\r\n    });\r\n}\r\n\r\nfunction makeListRequest(reqStr, callback) {\r\n    $.ajax({\r\n        url: reqStr,\r\n        type: \"GET\",\r\n        dataType: \"json\"\r\n    })\r\n    .done(function (json) {\r\n        callback(null, json);\r\n    })\r\n    .fail(function (xhr, status, err) {\r\n        callback(err);\r\n    });\r\n};\r\n\r\n//Registration and authorization------------------------------------------------------------------------------------------------------------------------------------\r\nfunction makeAuthorizationRequest (reqStr, form, callback) {\r\n    $.ajax({\r\n        url: reqStr,\r\n        type: \"POST\",\r\n        data: form ? form.serialize() : null,\r\n    })\r\n    .done(function (json) {\r\n        callback(null, json);\r\n    })\r\n    .fail(function (xhr, status, err) {\r\n        callback(JSON.parse(xhr.responseText));\r\n    });;\r\n};\r\n\r\nexport {makeDBSearchRequest, \r\n        makeDBSaveRequest, \r\n        makeDBDelRequest, \r\n        makeFileSaveRequest, \r\n        makeFileDeleteRequest, \r\n        makeListRequest, \r\n        makeAuthorizationRequest};\n\n\n/** WEBPACK FOOTER **\n ** ./public/javascripts/ajaxClient.js\n **/","\"use strict\";\r\n\r\n//findTarget(initial target from event.target, class or id to define the target, element inside the target that will be returned instead of target - optional)\r\nfunction findTarget(target, criteria, tag) {\r\n    criteria = criteria.split(\" \");\r\n\r\n    do {\r\n        for (var i = 0; i < criteria.length; i++) {\r\n            if ((target.hasClass(criteria[i])) || (target.attr(\"id\") === criteria[i])) {\r\n                if (tag) return target.children(tag);\r\n                else return target;\r\n            };\r\n        };\r\n        target = target.parent();\r\n    } while (target.length);\r\n};\r\n\r\n//for some reason sometimes properties are read in the opposite order\r\nfunction gatherItemsInOrder(obj) {\r\n    var items = [];\r\n    for(var item in obj){\r\n        items.push(item);\r\n    };\r\n    return items;\r\n};\r\n\r\nexport {findTarget, gatherItemsInOrder};\n\n\n/** WEBPACK FOOTER **\n ** ./public/javascripts/axillaries.js\n **/"],"sourceRoot":""}