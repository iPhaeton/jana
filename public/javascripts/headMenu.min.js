"use strict";!function(a){function b(a){var b=new AuthWindow(a);b.render()}$(document).ready(function(){$("#signin, #signup").on("click",function(a){a.preventDefault();var c=findTarget($(a.target),"signin signup");c&&b(c.attr("id"))}),$("#signout").on("click",function(a){a.preventDefault();var b=findTarget($(a.target),"signout");b&&makeAuthorizationRequest("/signout",null,function(a){a?alert(a.message):window.location.href="/"})}),$(document.documentElement).on("click keydown",function(a){a.keyCode&&27!==a.keyCode||findTarget($(a.target),"mod")||(findTarget($(a.target),"popup-button")&&27!==a.keyCode||($("#image-preview").remove(),$(".popup-menu").detach()),findTarget($(a.target),"details-button edit-button rm-button signin signup")&&27!==a.keyCode||ModalWindow.prototype.close())})})}();